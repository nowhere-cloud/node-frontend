"use strict";!function(n){var t=n("<tr/>").addClass("table-danger"),e=n("<td/>").attr("colspan",7),i=function(){n("#dns-loadhere").load("/admin/dns/partials/list",function(i,d,a){"error"===d&&(e.html(a.status+" "+a.statusText),t.html(e),n("#dns-loadhere").html(t))})},d=function(i){n("#edit-dns").load("/admin/dns/partials/form/"+i,function(i,d,a){n("#edit-loading-bar").hide(),n("#edit-dns").show(),"error"===d&&(e.html(a.status+" "+a.statusText),t.html(e),n("#edit-dns").html(t))})},a=function(n){return parseInt(n,10).toString(16)},s=function(n){var t=parseInt(n,10).toString(16);return 1===t.length?"0"+t:t},o=function(n){var t=n.trim().split(".");return"::FFFF:"+a(t[0])+s(t[1])+":"+a(t[2])+s(t[3])};n(document).ready(function(){i()}),n("#new-reset").on("click",function(t){n("#new-dns")[0].reset()}),n("#NewDNS").on("show.bs.modal",function(){n("#ip4-feedback").hide(),n("#new-dns")[0].reset()}),n("#EditDNS").on("show.bs.modal",function(){n("#edit-loading-bar").show(),n("#edit-dns").hide()}).on("hide.bs.modal",function(){n("#edit-dns").hide(),n("#edit-loading-bar").show()}),n("#new-dns").on("submit",function(t){return t.preventDefault(),""===n("#ipv4-new").val()?(n("#ipv4-new").addClass("form-control-danger"),!1):("A"===n("#dns-type-new").val()&&""===n("#ipv6-new").val()&&n("#ipv6-new").val(o(n("#ipv4-new").val())),"CNAME"===n("#dns-type-new").val()&&""===n("#optval-new").val()?(n("#optval-new").addClass("form-control-danger"),!1):void n(this)[0].submit())}),n("#edit-dns").on("change","#ip4-edit",function(t){4===n(this).val().split(".").length&&n("#ipv6-edit").val(o(n("#ipv4-new").val()))}),n("#edit-dns").on("submit",".dns-edit-form",function(t){t.preventDefault(),""===n("#ipv6-edit").val()&&n("#ipv6-edit").val(o(n("#ipv4-new").val())),n(this)[0].submit()}),n("#dns-loadhere").on("click",".dns-edit",function(){d(n(this).data("entryid")),n("#EditDNS").modal("show")})}(jQuery);