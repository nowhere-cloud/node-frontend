"use strict";!function(i){var a=i("p#uuid").html().trim(),o="",t=i("<span/>").addClass("text-danger"),n=function(){i.get("../api/vm/"+a+"/metrics").done(function(a){"Success"===a.Status?(i("#modal-metric-osname").html(a.Value.os_version.name),i("#modal-metric-kernel").html(a.Value.os_version.uname),i("#modal-metric-driver").html(a.Value.PV_drivers_version.major+"."+a.Value.PV_drivers_version.minor+"."+a.Value.PV_drivers_version.micro+" build "+a.Value.PV_drivers_version.build),i("#modal-ip-ipv4").html(a.Value.networks["0/ip"]),i("#modal-ip-ipv6").html(a.Value.networks["0/ipv6/0"]),"Running"!==i("dd#pstate").html()&&i("#modal-ip-alert").show()):(t.html("Contact Administrator: "+a.ErrorDescription).addClass("col-sm-12"),i("#modal-metric-main").html(t),i("#modal-ip-main").html(t))}).fail(function(a){t.html(a.status+" "+a.statusText),i("#modal-metric-main").html(t),i("#modal-ip-main").html(t)})},e=function(){i("#managed-tool").load("./"+a+"/toolbar",function(a,o,n){"error"===o&&(t.html(n.status+" "+n.statusText),i(this).html(t))})},l=function(o,t){i.ajax({type:"POST",url:"../api/vm/"+a+"/send",data:{action:o,payload:t},success:function(a,o,t){console.log(a),i("#confirmation-loading").hide(),i("#confirmation-field-rsvp-etktid").html(a.uuid),i("#confirmation-modal").data("bs.modal").handleUpdate(),i("#confirmation-field-rsvp").show()},dataType:"json"})};i(document).ready(function(){i("#modal-ip-alert").hide(),i("#confirmation-loading").hide(),i("#confirmation-field-rsvp").hide(),n(),e()}),i("#refresh").on("click",function(){i("#modal-ip-alert").hide(),n()}),i("#managed-tool").on("click",".vm-actions",function(){o=i(this).data("action"),i("#confirmation-field-uuid").html(a),i("#confirmation-field-verb").html(babel(o)),i("#confirmation-modal").modal("show").data("bs.modal").handleUpdate()}),i("#confirmation-confirm").on("click",function(){l(o,{}),i("#confirmation-loading").show(),i(this).hide(),i("#confirmation-modal").data("bs.modal").handleUpdate()})}(jQuery);