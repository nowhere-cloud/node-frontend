"use strict";!function(i){var t=i("p#uuid").html().trim(),o="",n=i("<span/>").addClass("text-danger"),a=function(){i.get("../api/vm/"+t+"/metrics").done(function(t){"Success"===t.Status?(i("#modal-metric-osname").html(t.Value.os_version.name),i("#modal-metric-kernel").html(t.Value.os_version.uname),i("#modal-metric-driver").html(t.Value.PV_drivers_version.major+"."+t.Value.PV_drivers_version.minor+"."+t.Value.PV_drivers_version.micro+" build "+t.Value.PV_drivers_version.build),i("#modal-ip-ipv4").html(t.Value.networks["0/ip"]),i("#modal-ip-ipv6").html(t.Value.networks["0/ipv6/0"]),"Running"!==i("dd#pstate").html()&&i("#modal-ip-alert").show()):(n.html("Contact Administrator: "+t.ErrorDescription).addClass("col-sm-12"),i("#modal-metric-main").html(n),i("#modal-ip-main").html(n))}).fail(function(t){n.html(t.status+" "+t.statusText),i("#modal-metric-main").html(n),i("#modal-ip-main").html(n)})},e=function(){i("#managed-tool").load("./"+t+"/toolbar",function(t,o,a){"error"===o&&(n.html(a.status+" "+a.statusText),i(this).html(n))})},l=function(o,n,a){i.ajax({type:"POST",url:"../api/vm/"+t+"/send",data:{_csrf:a,action:o,payload:n},success:function(t,o,n){console.log(t),i("#confirmation-loading").hide(),i("#confirmation-field-rsvp-etktid").html(t.uuid),i("#confirmation-field-rsvp").show()},dataType:"json"})};i(document).ready(function(){i("#modal-ip-alert").hide(),i("#confirmation-loading").hide(),i("#confirmation-field-rsvp").hide(),setTimeout(function(){e()},1e3),setTimeout(function(){a()},1500)}),i("#refresh").on("click",function(){i("#modal-ip-alert").hide(),a()}),i("#managed-tool").on("click",".vm-actions",function(){o=i(this).data("action"),i("#confirmation-field-uuid").html(t),i("#confirmation-field-verb").html(babel("action",o)),i("#confirmation-modal").modal("show")}),i("#confirmation-confirm").on("click",function(){l(o,{},i(this).data("csrf")),i("#confirmation-loading").show(),i(this).hide()})}(jQuery);