"use strict";!function(t){var i=t("p#uuid").html().trim(),o="",n=t("<span/>").addClass("text-danger"),a=function(){t.get("../api/vm/"+i+"/metrics").done(function(i){"Success"===i.Status?(t("#modal-metric-osname").html(i.Value.os_version.name),t("#modal-metric-kernel").html(i.Value.os_version.uname),t("#modal-metric-driver").html(i.Value.PV_drivers_version.major+"."+i.Value.PV_drivers_version.minor+"."+i.Value.PV_drivers_version.micro+" build "+i.Value.PV_drivers_version.build),t("#modal-ip-ipv4").html(i.Value.networks["0/ip"]),t("#modal-ip-ipv6").html(i.Value.networks["0/ipv6/0"]),"Running"!==t("dd#pstate").html()&&t("#modal-ip-alert").show()):(n.html("Contact Administrator: "+i.ErrorDescription).addClass("col-sm-12"),t("#modal-metric-main").html(n),t("#modal-ip-main").html(n))}).fail(function(i){n.html(i.status+" "+i.statusText),t("#modal-metric-main").html(n),t("#modal-ip-main").html(n)})},e=function(){t.get("../api/vm/"+i+"/pstate").done(function(i){"Success"===i.Status?(console.log(i),t("#pstate").html(i.power_state)):(n.html("Contact Administrator: "+i.ErrorDescription),t("#pstate").html(n))}).fail(function(i){n.html(i.status+" "+i.statusText),t("#pstate").html(n)})},m=function(o,n,a){t.ajax({type:"POST",url:"../api/vm/"+i+"/send",data:{_csrf:a,action:o,payload:n},success:function(i,o,n){t("#confirmation-loading").hide(),t("#confirmation-field-rsvp-etktid").html(i.task),t("#confirmation-field-rsvp").show()},dataType:"json"})};t(document).ready(function(){t("#modal-ip-alert").hide(),t("#confirmation-loading").hide(),t("#confirmation-field-rsvp").hide(),setTimeout(function(){e()},1e3),setTimeout(function(){a()},1500)}),t("#refresh").on("click",function(){t("#modal-ip-alert").hide(),setTimeout(function(){e()},1e3),setTimeout(function(){a()},2e3)}),t("#managed-tool").on("click",".vm-actions",function(){o=t(this).data("action"),t("#confirmation-field-uuid").html(i),t("#confirmation-field-verb").html(babel("action",o)),t("#confirmation-modal").modal("show")}),t("#confirmation-confirm").on("click",function(){m(o,{},t(this).data("csrf")),t("#confirmation-loading").show(),t(this).hide()})}(jQuery);