"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),PrettyDate=function(){function t(){_classCallCheck(this,t),this.now=new Date}return _createClass(t,[{key:"getTodayDate",value:function(){return(this.now.getDate()<10?"0":"")+this.now.getDate()+"/"+(this.now.getMonth()+1<10?"0":"")+(this.now.getMonth()+1)+"/"+this.now.getFullYear()}},{key:"getCurrentTime",value:function(){return(this.now.getHours()<10?"0":"")+this.now.getHours()+":"+(this.now.getMinutes()<10?"0":"")+this.now.getMinutes()+":"+(this.now.getSeconds()<10?"0":"")+this.now.getSeconds()}},{key:"getJSDateObj",value:function(){return this.now}}]),t}();!function(t){var e=t("<div/>").addClass("list-group-item list-group-item-info").html("Not Available"),a=(t("<div/>").addClass("list-group-item list-group-item-danger").html("Error While Retreving System Statistics"),["umeda","tonda","ikeda","suita","yamada","sonoda"]),n="Emergency Alert Critical Error Warning Notice".split(" "),s=["danger","danger","danger","danger","warning","info"],i=new PrettyDate,o=function(){t.each(a,function(e,a){t.get("/status/api/"+a).done(function(){t("#status-"+a).removeClass("badge-default").addClass("badge-success").html("OK")}).fail(function(){t("status-"+a).removeClass("badge-default").addClass("badge-danger").html("Error")})})},r=function(){t.get("/status/api/ikoma").done(function(a){0===a.length?t("#status-health-metrics").html(e):(t("#status-health-metrics").html(""),t.each(a,function(e,a){var i=t("<div/>").addClass("list-group-item justify-content-between");if(a._id>=6)return!0;i.addClass("list-group-item-"+s[a._id]).html(n[a._id]),t("<span/>").addClass("badge badge-default badge-pill").html(a.count).appendTo(i),i.appendTo("#status-health-metrics")}))}).fail(function(e){t("#status-health-metrics").html(e)})};t(document).ready(function(){t("#now").html(i.getTodayDate()+" @ "+i.getCurrentTime()),t("#load-status-please").length>0&&(o(),r())})}(jQuery);