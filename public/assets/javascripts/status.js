"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}}(),PrettyDate=function(){function t(){_classCallCheck(this,t),this.now=new Date}return _createClass(t,[{key:"getTodayDate",value:function(){return(this.now.getDate()<10?"0":"")+this.now.getDate()+"/"+(this.now.getMonth()+1<10?"0":"")+(this.now.getMonth()+1)+"/"+this.now.getFullYear()}},{key:"getCurrentTime",value:function(){return(this.now.getHours()<10?"0":"")+this.now.getHours()+":"+(this.now.getMinutes()<10?"0":"")+this.now.getMinutes()+":"+(this.now.getSeconds()<10?"0":"")+this.now.getSeconds()}},{key:"getJSDateObj",value:function(){return this.now}}]),t}();!function(t){var e=t("<div/>").addClass("list-group-item list-group-item-info").html("Not Available"),a=t("<div/>").addClass("list-group-item list-group-item-danger").html("Error While Retreving System Statistics"),n=["umeda","tonda","ikeda","suita","yamada","sonoda"],s="Emergency Alert Critical Error Warning Notice".split(" "),i=["danger","danger","danger","danger","warning","info"],o=new PrettyDate,r=function(){t.each(n,function(e,a){t.get("/status/api/"+a).done(function(){t("#status-"+a).removeClass("badge-default").addClass("badge-success").html("OK")}).fail(function(){t("#status-"+a).removeClass("badge-default").addClass("badge-danger").html("Error")})})},l=function(){t.get("/status/api/ikoma").done(function(a){0===a.length?t("#status-health-metrics").html(e):(t("#status-health-metrics").html(""),t.each(a,function(e,a){var n=t("<div/>").addClass("list-group-item justify-content-between");if(a._id>=6)return!0;n.addClass("list-group-item-"+i[a._id]).html(s[a._id]),t("<span/>").addClass("badge badge-default badge-pill").html(a.count).appendTo(n),n.appendTo("#status-health-metrics")}))}).fail(function(e){t("#status-health-metrics").html(a)})};t(document).ready(function(){t("#now").html(o.getTodayDate()+" @ "+o.getCurrentTime()),t("#load-status-please").length>0&&(r(),l())})}(jQuery);